/*!
 * Extend Web3 for Ebakus Blockchain v0.1.6
 * 
 * @author Ebakus AG <hello@ebakus.com>
 * @website https://www.ebakus.com/
 * 
 * @copyright Ebakus 2020
 * @license MIT
 */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports["web3-ebakus"]=r():e.Web3Ebakus=r()}(this,(function(){return function(e){var r={};function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)t.d(o,n,function(r){return e[r]}.bind(null,n));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=137)}([function(e,r){e.exports=require("eth-lib/lib/bytes")},function(e,r){e.exports=require("eth-lib/lib/rlp")},function(e,r){e.exports=require("eth-lib/lib/account")},function(e,r){e.exports=require("eth-lib/lib/hash")},function(e,r,t){(function(r){e.exports=function(){return new r("./node_modules/web3-ebakus/lib/calculateWorkNonce.js")}}).call(this,t(138).Worker)},function(e,r){e.exports=require("core-js/modules/es6.array.copy-within")},function(e,r){e.exports=require("core-js/modules/es6.array.fill")},function(e,r){e.exports=require("core-js/modules/es6.array.find")},function(e,r){e.exports=require("core-js/modules/es6.array.find-index")},function(e,r){e.exports=require("core-js/modules/es7.array.flat-map")},function(e,r){e.exports=require("core-js/modules/es6.array.from")},function(e,r){e.exports=require("core-js/modules/es7.array.includes")},function(e,r){e.exports=require("core-js/modules/es6.array.iterator")},function(e,r){e.exports=require("core-js/modules/es6.array.of")},function(e,r){e.exports=require("core-js/modules/es6.array.sort")},function(e,r){e.exports=require("core-js/modules/es6.array.species")},function(e,r){e.exports=require("core-js/modules/es6.date.to-primitive")},function(e,r){e.exports=require("core-js/modules/es6.function.has-instance")},function(e,r){e.exports=require("core-js/modules/es6.function.name")},function(e,r){e.exports=require("core-js/modules/es6.map")},function(e,r){e.exports=require("core-js/modules/es6.math.acosh")},function(e,r){e.exports=require("core-js/modules/es6.math.asinh")},function(e,r){e.exports=require("core-js/modules/es6.math.atanh")},function(e,r){e.exports=require("core-js/modules/es6.math.cbrt")},function(e,r){e.exports=require("core-js/modules/es6.math.clz32")},function(e,r){e.exports=require("core-js/modules/es6.math.cosh")},function(e,r){e.exports=require("core-js/modules/es6.math.expm1")},function(e,r){e.exports=require("core-js/modules/es6.math.fround")},function(e,r){e.exports=require("core-js/modules/es6.math.hypot")},function(e,r){e.exports=require("core-js/modules/es6.math.imul")},function(e,r){e.exports=require("core-js/modules/es6.math.log1p")},function(e,r){e.exports=require("core-js/modules/es6.math.log10")},function(e,r){e.exports=require("core-js/modules/es6.math.log2")},function(e,r){e.exports=require("core-js/modules/es6.math.sign")},function(e,r){e.exports=require("core-js/modules/es6.math.sinh")},function(e,r){e.exports=require("core-js/modules/es6.math.tanh")},function(e,r){e.exports=require("core-js/modules/es6.math.trunc")},function(e,r){e.exports=require("core-js/modules/es6.number.constructor")},function(e,r){e.exports=require("core-js/modules/es6.number.epsilon")},function(e,r){e.exports=require("core-js/modules/es6.number.is-finite")},function(e,r){e.exports=require("core-js/modules/es6.number.is-integer")},function(e,r){e.exports=require("core-js/modules/es6.number.is-nan")},function(e,r){e.exports=require("core-js/modules/es6.number.is-safe-integer")},function(e,r){e.exports=require("core-js/modules/es6.number.max-safe-integer")},function(e,r){e.exports=require("core-js/modules/es6.number.min-safe-integer")},function(e,r){e.exports=require("core-js/modules/es6.number.parse-float")},function(e,r){e.exports=require("core-js/modules/es6.number.parse-int")},function(e,r){e.exports=require("core-js/modules/es6.object.assign")},function(e,r){e.exports=require("core-js/modules/es7.object.define-getter")},function(e,r){e.exports=require("core-js/modules/es7.object.define-setter")},function(e,r){e.exports=require("core-js/modules/es7.object.entries")},function(e,r){e.exports=require("core-js/modules/es6.object.freeze")},function(e,r){e.exports=require("core-js/modules/es6.object.get-own-property-descriptor")},function(e,r){e.exports=require("core-js/modules/es7.object.get-own-property-descriptors")},function(e,r){e.exports=require("core-js/modules/es6.object.get-own-property-names")},function(e,r){e.exports=require("core-js/modules/es6.object.get-prototype-of")},function(e,r){e.exports=require("core-js/modules/es7.object.lookup-getter")},function(e,r){e.exports=require("core-js/modules/es7.object.lookup-setter")},function(e,r){e.exports=require("core-js/modules/es6.object.prevent-extensions")},function(e,r){e.exports=require("core-js/modules/es6.object.to-string")},function(e,r){e.exports=require("core-js/modules/es6.object.is")},function(e,r){e.exports=require("core-js/modules/es6.object.is-frozen")},function(e,r){e.exports=require("core-js/modules/es6.object.is-sealed")},function(e,r){e.exports=require("core-js/modules/es6.object.is-extensible")},function(e,r){e.exports=require("core-js/modules/es6.object.keys")},function(e,r){e.exports=require("core-js/modules/es6.object.seal")},function(e,r){e.exports=require("core-js/modules/es6.object.set-prototype-of")},function(e,r){e.exports=require("core-js/modules/es7.object.values")},function(e,r){e.exports=require("core-js/modules/es6.promise")},function(e,r){e.exports=require("core-js/modules/es7.promise.finally")},function(e,r){e.exports=require("core-js/modules/es6.reflect.apply")},function(e,r){e.exports=require("core-js/modules/es6.reflect.construct")},function(e,r){e.exports=require("core-js/modules/es6.reflect.define-property")},function(e,r){e.exports=require("core-js/modules/es6.reflect.delete-property")},function(e,r){e.exports=require("core-js/modules/es6.reflect.get")},function(e,r){e.exports=require("core-js/modules/es6.reflect.get-own-property-descriptor")},function(e,r){e.exports=require("core-js/modules/es6.reflect.get-prototype-of")},function(e,r){e.exports=require("core-js/modules/es6.reflect.has")},function(e,r){e.exports=require("core-js/modules/es6.reflect.is-extensible")},function(e,r){e.exports=require("core-js/modules/es6.reflect.own-keys")},function(e,r){e.exports=require("core-js/modules/es6.reflect.prevent-extensions")},function(e,r){e.exports=require("core-js/modules/es6.reflect.set")},function(e,r){e.exports=require("core-js/modules/es6.reflect.set-prototype-of")},function(e,r){e.exports=require("core-js/modules/es6.regexp.constructor")},function(e,r){e.exports=require("core-js/modules/es6.regexp.flags")},function(e,r){e.exports=require("core-js/modules/es6.regexp.match")},function(e,r){e.exports=require("core-js/modules/es6.regexp.replace")},function(e,r){e.exports=require("core-js/modules/es6.regexp.split")},function(e,r){e.exports=require("core-js/modules/es6.regexp.search")},function(e,r){e.exports=require("core-js/modules/es6.regexp.to-string")},function(e,r){e.exports=require("core-js/modules/es6.set")},function(e,r){e.exports=require("core-js/modules/es6.symbol")},function(e,r){e.exports=require("core-js/modules/es7.symbol.async-iterator")},function(e,r){e.exports=require("core-js/modules/es6.string.anchor")},function(e,r){e.exports=require("core-js/modules/es6.string.big")},function(e,r){e.exports=require("core-js/modules/es6.string.blink")},function(e,r){e.exports=require("core-js/modules/es6.string.bold")},function(e,r){e.exports=require("core-js/modules/es6.string.code-point-at")},function(e,r){e.exports=require("core-js/modules/es6.string.ends-with")},function(e,r){e.exports=require("core-js/modules/es6.string.fixed")},function(e,r){e.exports=require("core-js/modules/es6.string.fontcolor")},function(e,r){e.exports=require("core-js/modules/es6.string.fontsize")},function(e,r){e.exports=require("core-js/modules/es6.string.from-code-point")},function(e,r){e.exports=require("core-js/modules/es6.string.includes")},function(e,r){e.exports=require("core-js/modules/es6.string.italics")},function(e,r){e.exports=require("core-js/modules/es6.string.iterator")},function(e,r){e.exports=require("core-js/modules/es6.string.link")},function(e,r){e.exports=require("core-js/modules/es7.string.pad-start")},function(e,r){e.exports=require("core-js/modules/es7.string.pad-end")},function(e,r){e.exports=require("core-js/modules/es6.string.raw")},function(e,r){e.exports=require("core-js/modules/es6.string.repeat")},function(e,r){e.exports=require("core-js/modules/es6.string.small")},function(e,r){e.exports=require("core-js/modules/es6.string.starts-with")},function(e,r){e.exports=require("core-js/modules/es6.string.strike")},function(e,r){e.exports=require("core-js/modules/es6.string.sub")},function(e,r){e.exports=require("core-js/modules/es6.string.sup")},function(e,r){e.exports=require("core-js/modules/es7.string.trim-left")},function(e,r){e.exports=require("core-js/modules/es7.string.trim-right")},function(e,r){e.exports=require("core-js/modules/es6.typed.array-buffer")},function(e,r){e.exports=require("core-js/modules/es6.typed.int8-array")},function(e,r){e.exports=require("core-js/modules/es6.typed.uint8-array")},function(e,r){e.exports=require("core-js/modules/es6.typed.uint8-clamped-array")},function(e,r){e.exports=require("core-js/modules/es6.typed.int16-array")},function(e,r){e.exports=require("core-js/modules/es6.typed.uint16-array")},function(e,r){e.exports=require("core-js/modules/es6.typed.int32-array")},function(e,r){e.exports=require("core-js/modules/es6.typed.uint32-array")},function(e,r){e.exports=require("core-js/modules/es6.typed.float32-array")},function(e,r){e.exports=require("core-js/modules/es6.typed.float64-array")},function(e,r){e.exports=require("core-js/modules/es6.weak-map")},function(e,r){e.exports=require("core-js/modules/es6.weak-set")},function(e,r){e.exports=require("core-js/modules/web.timers")},function(e,r){e.exports=require("core-js/modules/web.immediate")},function(e,r){e.exports=require("core-js/modules/web.dom.iterable")},function(e,r){e.exports=require("regenerator-runtime/runtime")},function(e,r){e.exports=require("util")},function(e,r){e.exports=require("web3-provider-engine/subproviders/subprovider")},function(e,r){e.exports=require("eth-lib/lib/nat")},function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return l})),t(5),t(6),t(7),t(8),t(9),t(10),t(11),t(12),t(13),t(14),t(15),t(16),t(17),t(18),t(19),t(20),t(21),t(22),t(23),t(24),t(25),t(26),t(27),t(28),t(29),t(30),t(31),t(32),t(33),t(34),t(35),t(36),t(37),t(38),t(39),t(40),t(41),t(42),t(43),t(44),t(45),t(46),t(47),t(48),t(49),t(50),t(51),t(52),t(53),t(54),t(55),t(56),t(57),t(58),t(59),t(60),t(61),t(62),t(63),t(64),t(65),t(66),t(67),t(68),t(69),t(70),t(71),t(72),t(73),t(74),t(75),t(76),t(77),t(78),t(79),t(80),t(81),t(82),t(83),t(84),t(85),t(86),t(87),t(88),t(89),t(90),t(91),t(92),t(93),t(94),t(95),t(96),t(97),t(98),t(99),t(100),t(101),t(102),t(103),t(104),t(105),t(106),t(107),t(108),t(109),t(110),t(111),t(112),t(113),t(114),t(115),t(116),t(117),t(118),t(119),t(120),t(121),t(122),t(123),t(124),t(125),t(126),t(127),t(128),t(129),t(130),t(131),t(132),t(133);var o,n=t(134),s=t(135),u=t.n(s);function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}o=t(139).default;var a={defaultTargetDifficulty:null};function l(e){var r=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){c(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},a,{},e),t=r.web3,n=r.defaultTargetDifficulty;this.web3=new o(t),this.defaultTargetDifficulty=n}Object(n.inherits)(l,u.a),l.prototype.handleRequest=function(e,r,t){var o=e.method;if("eth_signTransaction"===o||"eth_sendTransaction"===o){var n=e.params[0];if(!n.workNonce)return void this.web3.eth.calculateWorkForTransaction(n,this.defaultTargetDifficulty,null).then((function(e){e.gasPrice=e.workNonce,r(null,e)})).catch((function(e){return t(e)}))}r()}},function(e,r){e.exports=require("worker_threads")},function(r,t,o){"use strict";o.r(t),o(5),o(6),o(7),o(8),o(9),o(10),o(11),o(12),o(13),o(14),o(15),o(16),o(17),o(18),o(19),o(20),o(21),o(22),o(23),o(24),o(25),o(26),o(27),o(28),o(29),o(30),o(31),o(32),o(33),o(34),o(35),o(36),o(37),o(38),o(39),o(40),o(41),o(42),o(43),o(44),o(45),o(46),o(47),o(48),o(49),o(50),o(51),o(52),o(53),o(54),o(55),o(56),o(57),o(58),o(59),o(60),o(61),o(62),o(63),o(64),o(65),o(66),o(67),o(68),o(69),o(70),o(71),o(72),o(73),o(74),o(75),o(76),o(77),o(78),o(79),o(80),o(81),o(82),o(83),o(84),o(85),o(86),o(87),o(88),o(89),o(90),o(91),o(92),o(93),o(94),o(95),o(96),o(97),o(98),o(99),o(100),o(101),o(102),o(103),o(104),o(105),o(106),o(107),o(108),o(109),o(110),o(111),o(112),o(113),o(114),o(115),o(116),o(117),o(118),o(119),o(120),o(121),o(122),o(123),o(124),o(125),o(126),o(127),o(128),o(129),o(130),o(131),o(132),o(133);var n,s=o(1),u=o.n(s),i=o(0),c=o.n(i),a=o(2),l=o.n(a),f=o(3),p=o.n(f),m=o(136),d=o.n(m);function b(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function j(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?b(Object(t),!0).forEach((function(r){x(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function x(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var y=function(e){return null==e},g=function(e){for(;e&&e.startsWith("0x0");)e="0x".concat(e.slice(3));return e},h=function(e){return e.length%2==1&&(e=e.replace("0x","0x0")),e},q=function(e,r,t){var o,s,i,a;return regeneratorRuntime.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(i=function(e){if((e.nonce<0||e.gas<0||e.workNonce<0||e.chainId<0)&&(o=new Error("Nonce, gas, workNonce or chainId is lower than 0")),o)return t(o),Promise.reject(o);try{var i=n.extend.formatters.inputCallFormatter(e);i.to=i.to||"0x",i.data=i.data||"0x",i.value=i.value||"0x",i.chainId=n.utils.numberToHex(i.chainId);var a=u.a.encode([c.a.fromNat(i.nonce),c.a.fromNat(i.workNonce||"0x"),c.a.fromNat(i.gas),i.to.toLowerCase(),c.a.fromNat(i.value),i.data,c.a.fromNat(i.chainId||"0x1"),"0x","0x"]),f=p.a.keccak256(a),m=l.a.makeSigner(2*d.a.toNumber(i.chainId||"0x1")+35)(p.a.keccak256(a),r),b=u.a.decode(a).slice(0,6).concat(l.a.decodeSignature(m));b[6]=h(g(b[6])),b[7]=h(g(b[7])),b[8]=h(g(b[8]));var j=u.a.encode(b),x=u.a.decode(j);s={messageHash:f,v:g(x[6]),r:g(x[7]),s:g(x[8]),rawTransaction:j}}catch(e){return t(e),Promise.reject(e)}return t(null,s),s},o=!1,t=t||function(){},e){f.next=7;break}return o=new Error("No transaction object given!"),t(o),f.abrupt("return",Promise.reject(o));case 7:if(e.gasPrice="0",void 0===e.nonce||void 0===e.gas||void 0===e.workNonce||void 0===e.chainId){f.next=10;break}return f.abrupt("return",Promise.resolve(i(e)));case 10:return a=n.eth.accounts.privateKeyToAccount(r).address,f.abrupt("return",Promise.all([y(e.nonce)?n.eth.getTransactionCount(a):e.nonce,y(e.gas)?n.eth.estimateGas(e):e.gas,y(e.workNonce)?n.eth.calculateWorkForTransaction(j({},e,{from:a})):e,y(e.chainId)?n.eth.getChainId():e.chainId]).then((function(r){var t,o,n=(o=4,function(e){if(Array.isArray(e))return e}(t=r)||function(e,r){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var t=[],o=!0,n=!1,s=void 0;try{for(var u,i=e[Symbol.iterator]();!(o=(u=i.next()).done)&&(t.push(u.value),!r||t.length!==r);o=!0);}catch(e){n=!0,s=e}finally{try{o||null==i.return||i.return()}finally{if(n)throw s}}return t}}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),s=n[0],u=n[1],c=n[2].workNonce,a=n[3];if(y(s)||y(u)||y(c)||y(a))throw new Error("One of the values 'nonce=".concat(s,"', 'gas=").concat(u,"', 'workNonce=").concat(c,"' or 'chainId=").concat(a,"' couldn't be fetched"));return i(j({},e,{nonce:s,gas:u,workNonce:c,chainId:a}))})));case 12:case"end":return f.stop()}}))};function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v,k=function(){try{if("object"===("undefined"==typeof WebAssembly?"undefined":w(WebAssembly))&&"function"==typeof WebAssembly.instantiate){var e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){}return!1}(),P=o(4),O=o.n(P);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var F=function(r){if(v&&v>0)return Promise.resolve(v);var t,o,n=!1;return r=r||function(){},k?Promise.resolve(regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o={benchmark:!0},n.abrupt("return",new Promise((function(n){(t=new O.a).on("message",(function(s){var u=s.cmd,i=s.callsPerSecond;switch(u){case"ready":t.postMessage(o);break;case"finished":t.terminate(),v=i,r(null,i),n(i);break;default:console.warn("Unknown data from worker",e.data)}})),t.on("error",(function(e){throw e})),t.on("exit",(function(e){if(1===e)return null;var t=new Error("Worker has stopped with code ".concat(e));return r(t),Promise.reject(t)}))})));case 5:return n.prev=5,n.t0=n.catch(0),r(n.t0),n.abrupt("return",Promise.reject(n.t0));case 9:case"end":return n.stop()}}),null,null,[[0,5]])):(n=new Error("Wasm is not supported by browser. PoW function can't load."),r(n),Promise.reject(n))};t.default=function(e){if(!e)throw new Error("No web3 object provided to web3-ebakus!");e.eth.calculateWorkForTransaction=function(r,t,o,n){var s=!1;return n=n||function(){},k?r?Promise.resolve(function(r){var s,i,a,l,f,p;return regeneratorRuntime.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(s=0,i=!1,null!==o&&"object"===N(o)&&(o.isRunning=function(){return i},o.getCurrentWorkNonce=function(){return s},o.kill=function(){i=!1,s=0,a&&a.terminate(),l&&l("Worker terminated by user")}),m.prev=3,t){m.next=8;break}return m.next=7,regeneratorRuntime.awrap(e.eth.suggestDifficulty(r.from));case 7:t=m.sent;case 8:if(r.nonce){m.next=12;break}return m.next=11,regeneratorRuntime.awrap(e.eth.getTransactionCount(r.from));case 11:r.nonce=m.sent;case 12:if(r.gas){m.next=16;break}return m.next=15,regeneratorRuntime.awrap(e.eth.estimateGas(r));case 15:r.gas=m.sent;case 16:return r.gasPrice="0",r=e.extend.formatters.inputCallFormatter(r),f=u.a.encode([c.a.fromNat(r.nonce),c.a.fromNat(r.gas),r.to?r.to.toLowerCase():"",c.a.fromNat(r.value||"0x"),r.data||"0x"]),p={hash:f,targetDifficulty:t*e.utils.hexToNumber(r.gas)},m.abrupt("return",new Promise((function(t,o){a=new O.a,l=o,a.on("message",(function(o){var u=o.cmd,c=o.workNonce;switch(u){case"ready":i=!0,a.postMessage(p);break;case"current":s=c;break;case"finished":r.workNonce=e.utils.numberToHex(c),s=r.workNonce,i=!1,a.terminate(),n(null,r),t(r);break;default:console.warn("Unknown data from worker",o)}})),a.on("error",(function(e){throw e})),a.on("exit",(function(e){if(1===e)return null;var r=new Error("Worker has stopped with code ".concat(e));return n(r),Promise.reject(r)}))})));case 23:return m.prev=23,m.t0=m.catch(3),n(m.t0),m.abrupt("return",Promise.reject(m.t0));case 27:case"end":return m.stop()}}),null,null,[[3,23]])}(r)):(s=new Error("No transaction object given!"),n(s),Promise.reject(s)):(s=new Error("Wasm is not supported by browser. CryptoNight can't load."),n(s),Promise.reject(s))},e.eth.estimatePoWTime=function(){var e,r,t,o,n,s,u,i=arguments;return regeneratorRuntime.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:2,r=i.length>1&&void 0!==i[1]?i[1]:21e3,(t=i.length>2?i[2]:void 0)||"function"==typeof(o=Array.prototype.slice.call(i))[o.length-1]&&(t=o.pop()),t=t||function(){},c.prev=5,c.next=8,regeneratorRuntime.awrap(F());case 8:return n=c.sent,s=Math.log2(e*r),s=Math.ceil(s),u=Number((s/n*1e4%60).toFixed(2)),t(null,u),c.abrupt("return",Promise.resolve(u));case 16:return c.prev=16,c.t0=c.catch(5),t(c.t0),c.abrupt("return",Promise.reject(c.t0));case 20:case"end":return c.stop()}}),null,null,[[5,16]])},e.eth.extend({methods:[{name:"suggestDifficulty",call:"eth_suggestDifficulty",params:1,inputFormatter:[e.utils.toChecksumAddress],outputFormatter:e.utils.toFloat},{name:"getAbiForAddress",call:"eth_getAbiForAddress",params:1,inputFormatter:[e.utils.inputAddressFormatter]},{name:"getStaked",call:"eth_getStaked",params:2,inputFormatter:[e.utils.inputAddressFormatter,e.utils.inputBlockNumberFormatter]}]});var r=e.eth.accounts.__proto__._addAccountFunctions;return e.eth.accounts.__proto__._addAccountFunctions=function(t){return(t=r.call(this,t)).signTransaction=function(e,r){return q(e,t.privateKey,r)},t.calculateWorkForTransaction=e.eth.calculateWorkForTransaction,t},e.eth.accounts.signTransaction=function(e,r,t){return q(e,r,t)},n=e,e.extend({property:"db",methods:[{name:"get",call:"db_get",params:5,inputFormatter:[e.utils.inputAddressFormatter,null,null,null,e.utils.inputBlockNumberFormatter]},{name:"select",call:"db_select",params:5,inputFormatter:[e.utils.inputAddressFormatter,null,null,null,e.utils.inputBlockNumberFormatter]},{name:"next",call:"db_next",params:1,inputFormatter:[null]},{name:"releaseIterator",call:"db_releaseIterator",params:1,inputFormatter:[null]}]}),e}}]).default}));